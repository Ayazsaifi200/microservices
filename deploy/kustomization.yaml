apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Base resources
resources:
- ../kubernetes-manifests

# Enable Google Cloud Operations for better metrics
components:
- ../kustomize/components/google-cloud-operations

# Add common labels
labels:
- pairs:
    project: microservices-demo
    environment: minikube
    monitoring: enabled

# Add annotations for Prometheus scraping
commonAnnotations:
  prometheus.io/scrape: "true"
  prometheus.io/port: "8080"
